import base64
exec(base64.b64decode("aW1wb3J0IHRpbWUKaW1wb3J0IHRocmVhZGluZwpmcm9tIHB5bnB1dC5tb3VzZSBpbXBvcnQgQnV0dG9uLCBDb250cm9sbGVyCmZyb20gcHlucHV0LmtleWJvYXJkIGltcG9ydCBMaXN0ZW5lciwgS2V5Q29kZQppbXBvcnQgY3R5cGVzCmltcG9ydCBwc3V0aWwKaW1wb3J0IG9zCgpkZWYgY2xlYXJDb25zb2xlKCk6CiAgICBjb21tYW5kID0gJ2NsZWFyJwogICAgaWYgb3MubmFtZSBpbiAoJ250JywgJ2RvcycpOgogICAgICAgIGNvbW1hbmQgPSAnY2xzJwogICAgb3Muc3lzdGVtKGNvbW1hbmQpCgpjbGVhckNvbnNvbGUoKQoKcHJpbnQoIiIiCiBfX19fXyAgICAgICAgICAgICAgICB8IHwgICAgICAgICAgX19fX18gXyBfICAgICBfCnwgICAgIHxfX18gXyBfIF9fXyBfX198X3wgICBfX18gICB8ICAgICB8IHxffF9fX3wgfF8gX19fIF9fXwp8IHwgfCB8IC4gfCB8IHxfIC18IC1ffCAgICB8XyAtfCAgfCAgIC0tfCB8IHwgIF98ICdffCAtX3wgIF98CnxffF98X3xfX198X19ffF9fX3xfX198ICAgIHxfX198ICB8X19fX198X3xffF9fX3xffF98X19ffF98CgpieSBNb3VzZV9FdmVudCBUZzpAbW91c2V2ZW50L0Bkb2dnb2J5cGFzcwoKIiIiKQoKY3R5cGVzLndpbmRsbC5rZXJuZWwzMi5TZXRDb25zb2xlVGl0bGVXKCIiKQpkZWxheT0wLjA0CmJ1dHRvbiA9IEJ1dHRvbi5yaWdodApzdGFydF9zdG9wX2tleSA9IEtleUNvZGUoY2hhcj1pbnB1dCgiIFRvZ2dsZSBrZXkgLT4gICIpKQpleGl0X2tleSA9IEtleUNvZGUoY2hhcj0nJykKCmNsYXNzIENsaWNrTW91c2UodGhyZWFkaW5nLlRocmVhZCk6CgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGRlbGF5LCBidXR0b24pOgogICAgICAgIHN1cGVyKENsaWNrTW91c2UsIHNlbGYpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLmRlbGF5ID0gZGVsYXkKICAgICAgICBzZWxmLmJ1dHRvbiA9IGJ1dHRvbgogICAgICAgIHNlbGYucnVubmluZyA9IEZhbHNlCiAgICAgICAgc2VsZi5wcm9ncmFtX3J1bm5pbmcgPSBUcnVlCgogICAgZGVmIHN0YXJ0X2NsaWNraW5nKHNlbGYpOgogICAgICAgIHNlbGYucnVubmluZyA9IFRydWUKCiAgICBkZWYgc3RvcF9jbGlja2luZyhzZWxmKToKICAgICAgICBzZWxmLnJ1bm5pbmcgPSBGYWxzZQoKICAgIGRlZiBleGl0KHNlbGYpOgogICAgICAgIHNlbGYuc3RvcF9jbGlja2luZygpCiAgICAgICAgc2VsZi5wcm9ncmFtX3J1bm5pbmcgPSBGYWxzZQoKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgd2hpbGUgc2VsZi5wcm9ncmFtX3J1bm5pbmc6CiAgICAgICAgICAgIHdoaWxlIHNlbGYucnVubmluZzoKICAgICAgICAgICAgICAgIG1vdXNlLmNsaWNrKHNlbGYuYnV0dG9uKQogICAgICAgICAgICAgICAgdGltZS5zbGVlcChzZWxmLmRlbGF5KQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMSkKCgptb3VzZSA9IENvbnRyb2xsZXIoKQpjbGlja190aHJlYWQgPSBDbGlja01vdXNlKGRlbGF5LCBidXR0b24pCmNsaWNrX3RocmVhZC5zdGFydCgpCgoKZGVmIG9uX3ByZXNzKGtleSk6CiAgICBpZiBrZXkgPT0gc3RhcnRfc3RvcF9rZXk6CiAgICAgICAgaWYgY2xpY2tfdGhyZWFkLnJ1bm5pbmc6CiAgICAgICAgICAgIGNsaWNrX3RocmVhZC5zdG9wX2NsaWNraW5nKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBjbGlja190aHJlYWQuc3RhcnRfY2xpY2tpbmcoKQogICAgZWxpZiBrZXkgPT0gZXhpdF9rZXk6CiAgICAgICAgY2xpY2tfdGhyZWFkLmV4aXQoKQogICAgICAgIGxpc3RlbmVyLnN0b3AoKQoKCndpdGggTGlzdGVuZXIob25fcHJlc3M9b25fcHJlc3MpIGFzIGxpc3RlbmVyOgogICAgbGlzdGVuZXIuam9pbigp"))
 
